---
title: Go开发中，什么情况下会使用指针
date: 2025-04-08 22:30:53
tags: [Go]
categories: [Go]
---

1. 如果结构体很大或者变量很大，为了提高性能，会选择使用指针，传变量的地址；
2. 如果需要修改结构体中的字段的值，需要使用指针；
3. 如果需要通过判断某个字段是否设置了值，做一些业务逻辑处理，选择使用指针，通过 `if xx == nil` 来判断；
4. 如果 API 接口的请求参数，想保持兼容性；
5. 如果想节省内存：实际开发中，可以不用考虑；
6. 实现某些数据结构时，例如链表，需要在节点之间存储关系；
7. 变量类型即规范：通过使用指针，告诉 Go 开发者，这个变量可能会被改变；
8. 有些自动生成代码的工具，会默认将代码生成为指针形式；
9. 个人习惯；

---

以下情况通常选择不使用指针：

1. 如果不想某个结构体，或者变量的内容被改变
2. 如果没有需要使用指针的场景
3. 如果想在 i 姐使用零值，而非指针。使用零值更加安全。如果使用指针，就需要先判断是否为`nil`，否则直接使用会导致程序`panic`



```bash
docker run --name hyperf \
-v /Users/wxvirus/Herd/skeleton:/data/project \
-w /data/project \
-p 9501:9501 -it \
--privileged -u root \
--entrypoint /bin/sh \
hyperf/hyperf:8.1-alpine-v3.18-swoole
```

